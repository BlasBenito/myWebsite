selfcontained = TRUE
)
gt(data = head(covid_prevalence))
tsl <- tsl_initialize(
x = covid_prevalence,
name_column = "name",
time_column = "time"
)
tsl_plot(
tsl = tsl[1:12],
columns = 2,
guide = FALSE,
text_cex = 1.2
)
distantia_dtw_plot(tsl[c(1, 2)])
distantia_dtw_plot(tsl[c(1, 3)])
distantia_dtw_plot(tsl[c(1, 5)])
distantia_dtw_plot(tsl[c(1, 6)])
distantia_dtw_plot(tsl[c(1, 7)])
distantia_dtw_plot(tsl[c(1, 8)])
distantia_dtw_plot(tsl[c(1, 9)])
distantia_dtw_plot(tsl[c(2, 9)])
distantia_dtw_plot(tsl[c(3, 9)])
distantia_dtw_plot(tsl[c(4, 9)])
distantia_dtw_plot(tsl[c(5, 9)])
library(distantia)
library(sf)
library(mapview)
library(gt)
library(future)
stop_server()
build_site()
serve_site()
knitr::opts_chunk$set(
fig.width = 7, fig.height = 6, cache = TRUE
)
knitr::opts_chunk$set(
fig.width = 7, fig.height = 6, cache = TRUE
)
library(distantia)
library(dplyr)
library(tidyr)
library(mapview)
library(gt)
library(dygraphs)
la_population <- mapview(
covid_counties,
zcol = "population",
label = "name"
)
htmlwidgets::saveWidget(
la_population@map,
file = "la_population.html",
selfcontained = TRUE
)
knitr::opts_chunk$set(
fig.width = 7,
fig.height = 6,
cache = TRUE,
cache.path = "custom_cache/"
)
la_population <- mapview(
covid_counties,
zcol = "population",
label = "name"
)
htmlwidgets::saveWidget(
la_population@map,
file = "la_population.html",
selfcontained = TRUE
)
la_population <- mapview(
covid_counties,
zcol = "population",
label = "name"
)
htmlwidgets::saveWidget(
la_population@map,
file = "la_population.html",
selfcontained = TRUE
)
library(distantia)
library(dplyr)
library(tidyr)
library(mapview)
library(gt)
la_population <- mapview(
covid_counties,
zcol = "population",
label = "name"
)
htmlwidgets::saveWidget(
la_population@map,
file = "la_population.html",
selfcontained = TRUE
)
covid_prevalence |>
head(n = 20) |>
gt::gt() |>
gt::tab_style(
style = gt::cell_text(font = "Montserrat"),
locations = gt::cells_body()
)
tsl <- tsl_initialize(
x = covid_prevalence,
name_column = "name",
time_column = "time"
)
tsl_plot(
tsl = tsl[1:12],
columns = 2,
guide = FALSE,
text_cex = 1.2
)
par(mar = c(3, 3, 1, 1))
zoo_plot(
x = cbind(
tsl$Los_Angeles,
tsl$San_Francisco
),
guide = TRUE
)
df_time <- tsl_time(
tsl = tsl
)
df_time |>
dplyr::select(name, class, units, length, resolution, begin, end) |>
slice_head(n = 5) |>
gt::gt() |>
gt::tab_style(
style = gt::cell_text(font = "Montserrat"),
locations = gt::cells_body()
)
par(mar = c(3, 3, 1, 1))
zoo_plot(
x = cbind(
tsl$Los_Angeles,
tsl$San_Francisco
),
guide = FALSE
)
df_stats <- tsl_stats(
tsl = tsl,
lags = 1:12 #weeks
)
df_stats |>
select(name, q1, median, q3, max, dplyr::contains("lag")) |>
dplyr::arrange(dplyr::desc(max)) |>
gt::gt() |>
gt::fmt_number(decimals = 2) |>
gt::tab_style(
style = gt::cell_text(font = "Montserrat"),
locations = gt::cells_body()
)
df_stats |>
select(name, q1, median, q3, max, ac_lag_1) |>
dplyr::arrange(dplyr::desc(max)) |>
gt::gt() |>
gt::fmt_number(decimals = 2) |>
gt::tab_style(
style = gt::cell_text(font = "Montserrat"),
locations = gt::cells_body()
)
tsl_ac <- df_stats |>
tidyr::pivot_longer(
cols = dplyr::contains("lag"),
names_to = "lag",
values_to = "autocorrelation"
) |>
dplyr::select(
name, autocorrelation
) |>
dplyr::group_by(
name
) |>
dplyr::mutate(
time = dplyr::row_number()
) |>
distantia::tsl_initialize(
name_column = "name",
time_column = "time"
)
zoo_plot(
x = cbind(tsl_ac$Los_Angeles, tsl_ac$San_Francisco, tsl_ac$Kings),
guide = TRUE,
xlab = "Weeks",
ylab = "Autocorrelation"
)
nrow(covid_polygons)
library(distantia)
library(dplyr)
library(mapview)
library(gt)
nrow(covid_counties)
df_time <- tsl_time(
tsl = tsl
)
tsl <- tsl_initialize(
x = covid_prevalence,
name_column = "name",
time_column = "time"
)
df_time <- tsl_time(
tsl = tsl
)
df_time |>
dplyr::select(name, class, units, length, resolution, begin, end) |>
slice_head(n = 5) |>
gt::gt() |>
gt::tab_style(
style = gt::cell_text(font = "Montserrat"),
locations = gt::cells_body()
)
nrow(covid_prevalence)
colnames(covid_counties)
covid_prevalence |>
head(n = 20) |>
gt::gt() |>
gt::tab_style(
style = gt::cell_text(font = "Montserrat"),
locations = gt::cells_body()
)
covid_prevalence |>
head(n = 20) |>
gt::gt() |>
gt::tab_style(
style = gt::cell_text(font = "Montserrat"),
locations = gt::cells_body()
)
help(mapview)
la_population <- mapview(
covid_counties,
zcol = "population",
label = "name"
)
htmlwidgets::saveWidget(
la_population@map,
file = "la_population.html",
selfcontained = TRUE
)
colnames(covid_counties)
head(covid_counties)
covid_counties[["domestic_product"]]
data("covid_counties")
force(covid_counties)
View(covid_counties)
names(covid_counties)
covid_counties[["daily_miles_traveled"]]
knitr::opts_chunk$set(
fig.width = 7,
fig.height = 6
)
library(distantia)
library(dplyr)
library(mapview)
library(gt)
covid_prevalence |>
head(n = 20) |>
gt::gt() |>
gt::tab_style(
style = gt::cell_text(font = "Montserrat"),
locations = gt::cells_body()
)
covid_prevalence |>
head(n = 20) |>
gt::gt() |>
gt::tab_style(
style = gt::cell_text(font = "Montserrat"),
locations = gt::cells_body()
) |>
gt::tab_style(
style = gt::cell_text(weight = "bold"),
locations = gt::cells_column_labels()
) |>
gt::tab_style(
style = gt::cell_text(align = "center"),
locations = gt::cells_body()
)
la_population <- mapview(
covid_counties,
zcol = "population",
label = "name"
)
htmlwidgets::saveWidget(
la_population@map,
file = "la_population.html",
selfcontained = TRUE
)
tsl <- distantia::tsl_initialize(
x = covid_prevalence,
name_column = "name",
time_column = "time"
)
str(tsl)
tsl_names_get(tsl)
tsl <- distantia::tsl_initialize(
x = covid_prevalence,
name_column = "name",
time_column = "time"
)
length(tsl)
names(tsl)
tsl <- distantia::tsl_initialize(
x = covid_prevalence,
name_column = "name",
time_column = "time"
)
names(tsl)
class(tsl[[1]])
tsl_names_get(tsl, zoo = FALSE)
names(tsl)
tibble::enframe(names(tsl), name = "Index", value = "Value")
library(distantia)
library(zoo)
library(dplyr)
library(mapview)
library(gt)
plot(tsl[["Napa"]])
distantia::zoo_plot(tsl[["Napa"]])
distantia::zoo_plot(
x = tsl[["Napa"]],
guide = FALSE
)
distantia::zoo_plot(
x = tsl[["Napa"]],
guide = FALSE
)
distantia::zoo_plot(
x = tsl[["Napa"]],
guide = FALSE
)
distantia::zoo_plot(
x = tsl[["Napa"]],
guide = FALSE
)
distantia::zoo_plot(
x = tsl[["Napa"]],
guide = FALSE,
ylab = "Prevalence"
)
distantia::tsl_plot(
tsl = tsl[1:12],
columns = 2,
guide = FALSE,
text_cex = 1.2
)
attributes(tsl[[1]])$name
attributes(tsl[[2]])$name
distantia::tsl_plot(
tsl = tsl_subset(
tsl = tsl,
names = c("Los_Angeles", "San_Francisco"),
time = c("2022-06-01", "2022-12-31")
),
columns = 2,
guide = FALSE,
text_cex = 1.2
)
distantia::tsl_plot(
tsl = tsl_subset(
tsl = tsl,
names = c("Los_Angeles", "San_Francisco"),
time = c("2022-06-01", "2022-12-31")
),
guide = FALSE,
text_cex = 1.2
)
distantia::tsl_plot(
tsl = tsl_subset(
tsl = tsl,
names = c("Los_Angeles", "San_Francisco"),
time = c("2022-06-01", "2023-05-31")
),
guide = FALSE,
text_cex = 1.2
)
distantia::tsl_plot(
tsl = tsl_subset(
tsl = tsl,
names = c("Los_Angeles", "Kings"),
time = c("2022-06-01", "2023-05-31")
),
guide = FALSE
)
distantia::tsl_plot(
tsl = tsl_subset(
tsl = tsl,
names = c("Los_Angeles", "Kings"),
time = c("2022-06-01", "2022-12-31")
),
guide = FALSE
)
distantia::tsl_plot(
tsl = tsl_subset(
tsl = tsl,
names = c("Los_Angeles", "Kings")
),
guide = FALSE
)
distantia::tsl_plot(
tsl = tsl_subset(
tsl = tsl,
names = c("Los_Angeles", "Kings"),
time = c("2022-06-01", "2022-12-31")
),
guide = FALSE
)
distantia::tsl_plot(
tsl = tsl_subset(
tsl = tsl,
names = c("Los_Angeles", "Kings"),
time = c("2021-06-01", "2021-12-31")
),
guide = FALSE
)
distantia::tsl_plot(
tsl = tsl_subset(
tsl = tsl,
names = c("Los_Angeles", "Kings"),
time = c("2021-08-01", "2021-12-31")
),
guide = FALSE
)
distantia::tsl_plot(
tsl = tsl_subset(
tsl = tsl,
names = c("Los_Angeles", "Kings"),
time = c("2021-09-01", "2021-12-31")
),
guide = FALSE
)
distantia::tsl_plot(
tsl = tsl_subset(
tsl = tsl,
names = c("Los_Angeles", "Kings"),
time = c("2021-09-01", "2022-01-31")
),
guide = FALSE
)
distantia::zoo_plot(
x = tsl[["Kings"]],
guide = FALSE,
ylab = "Prevalence"
)
tsl <- distantia::tsl_initialize(
x = covid_prevalence,
name_column = "name",
time_column = "time"
)
names(tsl)
zoo::index(tsl[["Alameda"]])
head(zoo::coredata(tsl[["Alameda"]]))
head(zoo::index(tsl[["Alameda"]]))
zoo::index(tsl[["Alameda"]]) |>
head()
zoo::coredata(tsl[["Alameda"]]) |>
head()
tsl[["Alameda"]]
library(dygraphs)
dygraph(tsl[["Alameda"]])
library(tidygraph)
help(tidygraph)
plot(tsl[["Alameda"]])
plot(tsl[["Alameda"]])
plot(tsl[["Alameda"]])
plot(tsl[["Alameda"]], ylab = "Prevalence")
plot(tsl[["Napa"]])
plot(tsl[["Napa"]])
plot(tsl[["Napa"]])
distantia::zoo_plot(tsl[["Napa"]])
dygraphs::dygraph(tsl[["Napa"]])
dygraphs::dygraph(tsl[["Napa"]])
dygraphs::dygraph(tsl[["Napa"]])
blogdown:::preview_site()
help(dygraph)
dygraphs::dygraph(tsl[["Napa"]], ylab = "Covid-19 Prevalence")
dygraphs::dygraph(
data = cbind(tsl[["Napa"]], tsl[["Butte"]]),
ylab = "Covid-19 Prevalence"
)
dygraphs::dygraph(
data = cbind(tsl[c("Napa", "Butte"]),
dygraphs::dygraph(
data = cbind(tsl[c("Napa", "Butte")]),
ylab = "Covid-19 Prevalence"
)
cbind(tsl[c("Napa", "Butte")])
dygraphs::dygraph(
data = cbind(tsl[["Napa"]], tsl[["Butte"]]),
ylab = "Covid-19 Prevalence"
)
dygraphs::dygraph(
data = tsl$Napa,
ylab = "Covid-19 Prevalence"
)
dygraphs::dygraph(
data = cbind(tsl$Napa, tsl$Butte),
ylab = "Covid-19 Prevalence"
)
dygraphs::dygraph(
data = cbind(tsl$Napa, tsl$Butte, tsl$Kings),
ylab = "Covid-19 Prevalence"
)
help(dygraph)
distantia::tsl_plot(
tsl = tsl_subset(
tsl = tsl,
names = c("Los_Angeles", "Kings"),
time = c("2021-09-01", "2022-01-31")
),
guide = FALSE
)
