ggplot2::ylab("")
p1 | p2
pr <- plants_df[, c("x", "y")]
pr$group.2 <- pr$group.1 <- "Training"
pr[m$evaluation$spatial.folds[[1]]$testing, "group.1"] <- "Testing"
pr[m$evaluation$spatial.folds[[30]]$testing, "group.2"] <- "Testing"
pr <- plants_df[, c("x", "y")]
pr$group.2 <- pr$group.1 <- "Training"
pr[m$evaluation$spatial.folds[[1]]$testing, "group.1"] <- "Testing"
pr[m$evaluation$spatial.folds[[29]]$testing, "group.2"] <- "Testing"
p1 <- ggplot2::ggplot() +
ggplot2::geom_sf(data = world, fill = "white") +
ggplot2::geom_point(data = pr,
ggplot2::aes(
x = x,
y = y,
color = group.1
),
size = 2
) +
ggplot2::scale_color_viridis_d(
direction = -1,
end = 0.5,
alpha = 0.8,
option = "F"
) +
ggplot2::theme_bw() +
ggplot2::labs(color = "Group") +
ggplot2::scale_x_continuous(limits = c(-170, -30)) +
ggplot2::scale_y_continuous(limits = c(-58, 80))  +
ggplot2::ggtitle("Spatial fold 1") +
ggplot2::theme(
legend.position = "none",
plot.title = ggplot2::element_text(hjust = 0.5)
) +
ggplot2::xlab("Longitude") +
ggplot2::ylab("Latitude")
p2 <- ggplot2::ggplot() +
ggplot2::geom_sf(data = world, fill = "white") +
ggplot2::geom_point(data = pr,
ggplot2::aes(
x = x,
y = y,
color = group.2
),
size = 2
) +
ggplot2::scale_color_viridis_d(
direction = -1,
end = 0.5,
alpha = 0.8,
option = "F"
) +
ggplot2::theme_bw() +
ggplot2::labs(color = "Group") +
ggplot2::scale_x_continuous(limits = c(-170, -30)) +
ggplot2::scale_y_continuous(limits = c(-58, 80)) +
ggplot2::theme(
plot.title = ggplot2::element_text(hjust = 0.5)
) +
ggplot2::ggtitle("Spatial fold 25") +
ggplot2::xlab("Longitude") +
ggplot2::ylab("")
p1 | p2
m$evaluation$spatial.folds[[1]]$testing
m$evaluation$spatial.folds[[2]]$testing
pr <- plants_xy
pr$group.2 <- pr$group.1 <- "Training"
pr[m$evaluation$spatial.folds[[2]]$testing, "group.1"] <- "Testing"
pr[m$evaluation$spatial.folds[[29]]$testing, "group.2"] <- "Testing"
p1 <- ggplot2::ggplot() +
ggplot2::geom_sf(data = world, fill = "white") +
ggplot2::geom_point(data = pr,
ggplot2::aes(
x = x,
y = y,
color = group.1
),
size = 2
) +
ggplot2::scale_color_viridis_d(
direction = -1,
end = 0.5,
alpha = 0.8,
option = "F"
) +
ggplot2::theme_bw() +
ggplot2::labs(color = "Group") +
ggplot2::scale_x_continuous(limits = c(-170, -30)) +
ggplot2::scale_y_continuous(limits = c(-58, 80))  +
ggplot2::ggtitle("Spatial fold 1") +
ggplot2::theme(
legend.position = "none",
plot.title = ggplot2::element_text(hjust = 0.5)
) +
ggplot2::xlab("Longitude") +
ggplot2::ylab("Latitude")
p2 <- ggplot2::ggplot() +
ggplot2::geom_sf(data = world, fill = "white") +
ggplot2::geom_point(data = pr,
ggplot2::aes(
x = x,
y = y,
color = group.2
),
size = 2
) +
ggplot2::scale_color_viridis_d(
direction = -1,
end = 0.5,
alpha = 0.8,
option = "F"
) +
ggplot2::theme_bw() +
ggplot2::labs(color = "Group") +
ggplot2::scale_x_continuous(limits = c(-170, -30)) +
ggplot2::scale_y_continuous(limits = c(-58, 80)) +
ggplot2::theme(
plot.title = ggplot2::element_text(hjust = 0.5)
) +
ggplot2::ggtitle("Spatial fold 25") +
ggplot2::xlab("Longitude") +
ggplot2::ylab("")
p1 | p2
pr <- plants_xy
pr$group.2 <- pr$group.1 <- "Training"
pr[m$evaluation$spatial.folds[[2]]$testing, "group.1"] <- "Testing"
pr[m$evaluation$spatial.folds[[5]]$testing, "group.2"] <- "Testing"
p1 <- ggplot2::ggplot() +
ggplot2::geom_sf(data = world, fill = "white") +
ggplot2::geom_point(data = pr,
ggplot2::aes(
x = x,
y = y,
color = group.1
),
size = 2
) +
ggplot2::scale_color_viridis_d(
direction = -1,
end = 0.5,
alpha = 0.8,
option = "F"
) +
ggplot2::theme_bw() +
ggplot2::labs(color = "Group") +
ggplot2::scale_x_continuous(limits = c(-170, -30)) +
ggplot2::scale_y_continuous(limits = c(-58, 80))  +
ggplot2::ggtitle("Spatial fold 1") +
ggplot2::theme(
legend.position = "none",
plot.title = ggplot2::element_text(hjust = 0.5)
) +
ggplot2::xlab("Longitude") +
ggplot2::ylab("Latitude")
p2 <- ggplot2::ggplot() +
ggplot2::geom_sf(data = world, fill = "white") +
ggplot2::geom_point(data = pr,
ggplot2::aes(
x = x,
y = y,
color = group.2
),
size = 2
) +
ggplot2::scale_color_viridis_d(
direction = -1,
end = 0.5,
alpha = 0.8,
option = "F"
) +
ggplot2::theme_bw() +
ggplot2::labs(color = "Group") +
ggplot2::scale_x_continuous(limits = c(-170, -30)) +
ggplot2::scale_y_continuous(limits = c(-58, 80)) +
ggplot2::theme(
plot.title = ggplot2::element_text(hjust = 0.5)
) +
ggplot2::ggtitle("Spatial fold 25") +
ggplot2::xlab("Longitude") +
ggplot2::ylab("")
p1 | p2
pr <- plants_xy
pr$group.2 <- pr$group.1 <- "Training"
pr[m$evaluation$spatial.folds[[2]]$testing, "group.1"] <- "Testing"
pr[m$evaluation$spatial.folds[[7]]$testing, "group.2"] <- "Testing"
p1 <- ggplot2::ggplot() +
ggplot2::geom_sf(data = world, fill = "white") +
ggplot2::geom_point(data = pr,
ggplot2::aes(
x = x,
y = y,
color = group.1
),
size = 2
) +
ggplot2::scale_color_viridis_d(
direction = -1,
end = 0.5,
alpha = 0.8,
option = "F"
) +
ggplot2::theme_bw() +
ggplot2::labs(color = "Group") +
ggplot2::scale_x_continuous(limits = c(-170, -30)) +
ggplot2::scale_y_continuous(limits = c(-58, 80))  +
ggplot2::ggtitle("Spatial fold 1") +
ggplot2::theme(
legend.position = "none",
plot.title = ggplot2::element_text(hjust = 0.5)
) +
ggplot2::xlab("Longitude") +
ggplot2::ylab("Latitude")
p2 <- ggplot2::ggplot() +
ggplot2::geom_sf(data = world, fill = "white") +
ggplot2::geom_point(data = pr,
ggplot2::aes(
x = x,
y = y,
color = group.2
),
size = 2
) +
ggplot2::scale_color_viridis_d(
direction = -1,
end = 0.5,
alpha = 0.8,
option = "F"
) +
ggplot2::theme_bw() +
ggplot2::labs(color = "Group") +
ggplot2::scale_x_continuous(limits = c(-170, -30)) +
ggplot2::scale_y_continuous(limits = c(-58, 80)) +
ggplot2::theme(
plot.title = ggplot2::element_text(hjust = 0.5)
) +
ggplot2::ggtitle("Spatial fold 25") +
ggplot2::xlab("Longitude") +
ggplot2::ylab("")
p1 | p2
pr <- plants_xy
pr$group.2 <- pr$group.1 <- "Training"
pr[m$evaluation$spatial.folds[[2]]$testing, "group.1"] <- "Testing"
pr[m$evaluation$spatial.folds[[12]]$testing, "group.2"] <- "Testing"
p1 <- ggplot2::ggplot() +
ggplot2::geom_sf(data = world, fill = "white") +
ggplot2::geom_point(data = pr,
ggplot2::aes(
x = x,
y = y,
color = group.1
),
size = 2
) +
ggplot2::scale_color_viridis_d(
direction = -1,
end = 0.5,
alpha = 0.8,
option = "F"
) +
ggplot2::theme_bw() +
ggplot2::labs(color = "Group") +
ggplot2::scale_x_continuous(limits = c(-170, -30)) +
ggplot2::scale_y_continuous(limits = c(-58, 80))  +
ggplot2::ggtitle("Spatial fold 1") +
ggplot2::theme(
legend.position = "none",
plot.title = ggplot2::element_text(hjust = 0.5)
) +
ggplot2::xlab("Longitude") +
ggplot2::ylab("Latitude")
p2 <- ggplot2::ggplot() +
ggplot2::geom_sf(data = world, fill = "white") +
ggplot2::geom_point(data = pr,
ggplot2::aes(
x = x,
y = y,
color = group.2
),
size = 2
) +
ggplot2::scale_color_viridis_d(
direction = -1,
end = 0.5,
alpha = 0.8,
option = "F"
) +
ggplot2::theme_bw() +
ggplot2::labs(color = "Group") +
ggplot2::scale_x_continuous(limits = c(-170, -30)) +
ggplot2::scale_y_continuous(limits = c(-58, 80)) +
ggplot2::theme(
plot.title = ggplot2::element_text(hjust = 0.5)
) +
ggplot2::ggtitle("Spatial fold 25") +
ggplot2::xlab("Longitude") +
ggplot2::ylab("")
p1 | p2
spatialRF::plot_evaluation(m)
spatialRF::plot_evaluation(
model = m,
fill.color = colors
)
minicheck()
library(dplyr)
root <- "/home/blas/Dropbox/blas/GITHUB/R_packages/spatialRF"
setwd(root)
version <- "1.1.5"
gz_path <- paste0(
root,
"_",
version,
".tar.gz"
)
x <- devtools::build(
pkg = ".",
path = gz_path
)
system(
command = paste0(
"_R_CHECK_SYSTEM_CLOCK_=0; R CMD check --as-cran --timings ",
x
)
read.table(
paste0(root, "/spatialRF.Rcheck/spatialRF-Ex.timings"),
header = TRUE
) |>
dplyr::arrange(dplyr::desc(elapsed))
devtools::submit_cran()
pkgdown::build_site()
library(pkgdown)
pkgdown::build_site()
minicheck()
blogdown:::preview_site()
blogdown::build_site()
install.packages(c("profvis", "microbenchmark", "bench"))
install.packages(c("profvis", "microbenchmark", "bench"))
f <- function(n = 1e7){
stats::cor.test(
x = stats::rnorm(n = n),
y = stats::runif(n = n)
)
}
profvis::profvis(
expr = f(),
rerun = TRUE
)
p <- profvis::profvis(
expr = f(),
rerun = TRUE,
width = "100%",
height = "300"
)
htmlwidgets::saveWidget(
p,
file = "profiling.html",
selfcontained = TRUE
)
rm(p)
f_alt <- function(n = 1e7){
stats::cor(
x = stats::rnorm(n = n),
y = stats::runif(n = n)
)
}
library(microbenchmark)
df <- data.frame(
x = stats::runif(n = 1e7)
)
microbenchmark::microbenchmark(
df$x,
df[["x"]],
df[, "x"],
dplyr::pull(df, x),
times = 100
)
library(bench)
benchmark_results <- bench::mark(
df$x,
df[["x"]],
df[, "x"],
dplyr::pull(df, x),
iterations = 100,
check = FALSE  # skip checking that all results are identical
)
benchmark_results
help(mark)
library(bench)
benchmark_results <- bench::mark(
`df$x` = df$x,
df[["x"]],
df[, "x"],
dplyr::pull(df, x),
iterations = 100,
check = FALSE  # skip checking that all results are identical
)
benchmark_results
library(bench)
benchmark_results <- bench::mark(
df$x,
df[["x"]],
df[, "x"],
dplyr::pull(df, x),
iterations = 100,
check = FALSE  # skip checking that all results are identical
)
benchmark_results
library(bench)
benchmark_results <- bench::mark(
"a" = df$x,
df[["x"]],
df[, "x"],
dplyr::pull(df, x),
iterations = 100,
check = FALSE  # skip checking that all results are identical
)
benchmark_results
library(bench)
benchmark_results <- bench::mark(
df$x,
df[["x"]],
df[, "x"],
dplyr::pull(df, x),
iterations = 100,
check = FALSE  # skip checking that all results are identical
)
benchmark_results
library(microbenchmark)
df <- data.frame(
x = stats::runif(n = 1e7)
)
y <- microbenchmark::microbenchmark(
df$x,
df[["x"]],
df[, "x"],
dplyr::pull(df, x),
times = 100
)
y
library(microbenchmark)
df <- data.frame(
x = stats::runif(n = 1e7)
)
y <- microbenchmark::microbenchmark(
df$x,
df[["x"]],
df[, "x"],
dplyr::pull(df, x),
times = 100,
time_unit = "ns"
)
y
library(microbenchmark)
df <- data.frame(
x = stats::runif(n = 1e7)
)
microbenchmark::microbenchmark(
df$x,
df[["x"]],
df[, "x"],
dplyr::pull(df, x),
times = 100
)
library(bench)
y <- bench::mark(
df$x,
df[["x"]],
df[, "x"],
dplyr::pull(df, x),
iterations = 100,
check = FALSE  # skip checking that all results are identical
)
y
library(bench)
y <- bench::mark(
df$x,
df[["x"]],
df[, "x"],
dplyr::pull(df, x),
iterations = 100,
check = FALSE  # skip checking that all results are identical
)
y
rolling_mean_slow <- function(x, window = 3) {
n <- length(x)
result <- numeric(n)  # pre-allocation: good!
for (i in window:n) {
#repeated subsetting and mean calculation: slow!
result[i] <- mean(x[(i - window + 1):i])
}
result
}
# Create test data
test_data <- runif(10000)
profvis::profvis({
rolling_mean_slow(test_data)
})
profvis::profvis({
rolling_mean_slow(test_data)
})
build()
setwd("~/Dropbox/blas/GITHUB/myWebsite")
build()
blogdown:::preview_site()
unserve()
build()
build()
serve()
blogdown::build_site()
blogdown::serve_site()
blogdown::build_site()
blogdown::serve_site()
